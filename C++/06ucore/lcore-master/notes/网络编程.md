## 网络编程的问题与解决方案

**问题** fork 进程后,子进程调用 exit 退出,会变为僵尸进程,占用内核资源.只要父进程不退出,子进程就一直僵尸.

**解决方案** 在父进程安装信号处理函数,内部调用 wait.这样一来子进程退出后,父进程捕捉到信号,在 wait 中清理僵尸进程.

**问题** 信号是不排队的.如果有多个子进程同时崩溃,父进程的wait处理结果是不确定的.

**解决方案** 用 waitpid().

**问题** 当服务器崩溃时,向客户端发送 FIN .客户端无法感知到.因为客户端正阻塞在 fget(),无法接受 FIN,即"顾此失彼".客户端难以同时处理tcp 和 stdin两个输入.

**解决方案** IO 复用.



